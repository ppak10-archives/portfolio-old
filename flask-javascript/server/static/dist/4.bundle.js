(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{320:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(67),s=a(16),l=a(2),c=a.n(l);const d=({active:e,children:t,onClick:a})=>i.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:a,disabled:e},t);d.propTypes={active:c.a.bool.isRequired,children:c.a.node.isRequired,onClick:c.a.func.isRequired};var o=d;var u=Object(n.b)((e,t)=>({active:t.filter===e.subredditVisibilityFilter}),(e,t)=>({onClick:()=>e(Object(s.j)(t.filter))}))(o);var m=()=>i.a.createElement("div",null,i.a.createElement(u,{filter:s.e.SHOW_ALL_SUBREDDITS},"All"),i.a.createElement(u,{filter:s.e.SHOW_VIEWING},"Viewing"),i.a.createElement(u,{filter:s.e.SHOW_HIDING},"Hiding"));var p=Object(n.b)()(({dispatch:e})=>{let t;return i.a.createElement("div",null,i.a.createElement("form",{className:"form-inline",onSubmit:a=>{a.preventDefault(),t.value.trim()&&(e(Object(s.g)(t.value)),t.value="")}},i.a.createElement("input",{className:"form-control",placeholder:"/r/",ref:e=>t=e}),i.a.createElement("button",{className:"btn btn-outline-primary",type:"submit"},"Add Subreddit")))});const b=({onClick:e,viewing:t,name:a})=>i.a.createElement("li",{className:"list-inline-item"},i.a.createElement("button",{className:"btn btn-success",onClick:e,disabled:t},a));b.propTypes={onClick:c.a.func.isRequired,viewing:c.a.bool.isRequired,name:c.a.string.isRequired};var h=b;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const f=({subreddits:e,toggleSubreddit:t})=>i.a.createElement("ul",{className:"list-inline"},e.map(e=>i.a.createElement(h,E({key:e.id},e,{onClick:()=>t(e.id)}))));f.propTypes={subreddits:c.a.arrayOf(c.a.shape({id:c.a.number.isRequired,viewing:c.a.bool.isRequired,name:c.a.string.isRequired}).isRequired).isRequired,toggleSubreddit:c.a.func.isRequired};var v=f;var g=Object(n.b)(e=>({subreddits:((e,t)=>{switch(t){case s.e.SHOW_ALL_SUBREDDITS:return e;case s.e.SHOW_VIEWING:return e.filter(e=>e.viewing);case s.e.SHOW_HIDING:return e.filter(e=>!e.viewing);default:throw new Error("Unknown filter: "+t)}})(e.subreddits,e.subredditVisibilityFilter)}),e=>({toggleSubreddit:t=>e(Object(s.k)(t))}))(v);class R extends r.Component{render(){return i.a.createElement("div",{className:"scroll"},i.a.createElement("ul",{className:"list-group"},this.props.posts.map((e,t)=>i.a.createElement("li",{className:"list-group-item",key:t},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},i.a.createElement("h4",{className:"card-title"},e.title)),i.a.createElement("span",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://reddit.com"+e.permalink},i.a.createElement("h5",{className:"card-subtitle"},"Comments: (",e.num_comments,")")),i.a.createElement("h6",null,"Score: (",e.score,")"),i.a.createElement("p",null,"Author: ",e.author))))))))}}R.propTypes={posts:c.a.array.isRequired};var k=R;class y extends r.Component{constructor(e){super(e),this.handleRefreshClick=this.handleRefreshClick.bind(this),this.handleHideClick=this.handleHideClick.bind(this)}componentDidMount(){const{dispatch:e,subreddit:t}=this.props;e(Object(s.h)(t.name))}componentDidUpdate(e){if(this.props.subreddit.name!==e.subreddit.name){const{dispatch:e,subreddit:t}=this.props;e(Object(s.h)(t.name))}}handleRefreshClick(e){e.preventDefault();const{dispatch:t,subreddit:a}=this.props;t(Object(s.i)(a.name)),t(Object(s.h)(a.name))}handleHideClick(e){e.preventDefault();const{dispatch:t,subreddit:a}=this.props;t(Object(s.k)(a.id))}render(){const{subreddit:e,subreddits:t,posts:a,isFetching:r,lastUpdated:n}=this.props;return i.a.createElement("div",null,i.a.createElement("h2",null,i.a.createElement("button",{className:"btn btn-warning",onClick:this.handleHideClick},"Hide"),"/r/",e.name),i.a.createElement("p",null,n&&i.a.createElement("span",null,"Last updated at ",new Date(n).toLocaleTimeString(),"."," "),!r&&i.a.createElement("button",{className:"btn btn-info",onClick:this.handleRefreshClick},"Refresh")),r&&0===a.length&&i.a.createElement("h2",null,"Loading..."),!r&&0===a.length&&i.a.createElement("h2",null,"Empty."),a.length>0&&i.a.createElement("div",{className:"scroll-container",style:{opacity:r?.5:1}},i.a.createElement(k,{posts:a})))}}y.propTypes={subreddit:c.a.shape({id:c.a.number.isRequired,viewing:c.a.bool.isRequired,name:c.a.string.isRequired}).isRequired,subreddits:c.a.array.isRequired,posts:c.a.array.isRequired,isFetching:c.a.bool.isRequired,lastUpdated:c.a.number,dispatch:c.a.func.isRequired};var N=Object(n.b)(function(e,t){const{subreddits:a,postsBySubreddit:r}=e,{isFetching:i,lastUpdated:n,items:s}=r[t.subreddit.name]||{isFetching:!0,items:[]};return{subreddits:a,posts:s,isFetching:i,lastUpdated:n}})(y);N.propTypes={subreddits:c.a.array.isRequired};var O=Object(n.b)(function(e){const{subreddits:t}=e;return{subreddits:t}})(class extends r.Component{render(){const{subreddits:e}=this.props;return i.a.createElement("div",{className:"row"},e.map(e=>{if(1==e.viewing)return i.a.createElement("div",{className:"col"},i.a.createElement(N,{subreddit:e}))}))}});t.default=(()=>i.a.createElement("div",{className:"col page"},i.a.createElement(p,null),i.a.createElement(g,null),i.a.createElement(m,null),i.a.createElement(O,null)))}}]);