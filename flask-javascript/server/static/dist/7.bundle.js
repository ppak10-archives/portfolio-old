(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{316:function(t,e,r){"use strict";var a=r(315);a.DDSLoader=function(t){a.CompressedTextureLoader.call(this,t),this._parser=a.DDSLoader.parse},a.DDSLoader.prototype=Object.create(a.CompressedTextureLoader.prototype),a.DDSLoader.prototype.constructor=a.DDSLoader,a.DDSLoader.parse=function(t,e){var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function s(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}function i(t,e,r,a){for(var s=r*a*4,i=new Uint8Array(t,e,s),o=new Uint8Array(s),n=0,h=0,l=0;l<a;l++)for(var u=0;u<r;u++){var c=i[h],p=i[++h],m=i[++h],f=i[++h];h++,o[n]=m,o[++n]=p,o[++n]=c,o[++n]=f,n++}return o}var o,n=s("DXT1"),h=s("DXT3"),l=s("DXT5"),u=s("ETC1"),c=new Int32Array(t,0,31);if(542327876!==c[0])return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;if(4&!c[20])return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),r;var p=c[21],m=!1;switch(p){case n:o=8,r.format=a.RGB_S3TC_DXT1_Format;break;case h:o=16,r.format=a.RGBA_S3TC_DXT3_Format;break;case l:o=16,r.format=a.RGBA_S3TC_DXT5_Format;break;case u:o=8,r.format=a.RGB_ETC1_Format;break;default:if(!(32===c[22]&&16711680&c[23]&&65280&c[24]&&255&c[25]&&4278190080&c[26]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)}(p)),r;m=!0,o=64,r.format=a.RGBAFormat}r.mipmapCount=1,131072&c[2]&&!1!==e&&(r.mipmapCount=Math.max(1,c[7]));var f=c[28];if(r.isCubemap=!!(512&f),r.isCubemap&&(!(1024&f)||!(2048&f)||!(4096&f)||!(8192&f)||!(16384&f)||!(32768&f)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),r;r.width=c[4],r.height=c[3];for(var d=c[1]+4,v=r.isCubemap?6:1,g=0;g<v;g++)for(var b=r.width,L=r.height,x=0;x<r.mipmapCount;x++){if(m)var w=(y=i(t,d,b,L)).length;else{w=Math.max(4,b)/4*Math.max(4,L)/4*o;var y=new Uint8Array(t,d,w)}var M={data:y,width:b,height:L};r.mipmaps.push(M),d+=w,b=Math.max(b>>1,1),L=Math.max(L>>1,1)}return r},t.exports={DDSLoader:a.DDSLoader}},317:function(t,e,r){"use strict";var a=r(315);a.OBJLoader=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,r=/^usemtl /;function s(t){this.manager=void 0!==t?t:a.DefaultLoadingManager,this.materials=null}return s.prototype={constructor:s,load:function(t,e,r,s){var i=this,o=new a.FileLoader(i.manager);o.setPath(this.path),o.load(t,function(t){e(i.parse(t))},r,s)},setPath:function(t){return this.path=t,this},setMaterials:function(t){return this.materials=t,this},parse:function(s){console.time("OBJLoader");var i=new function(){var t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var a={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},r&&r.name&&"function"==typeof r.clone){var a=r.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseNormalIndex:function(t,e){var r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseUVIndex:function(t,e){var r=parseInt(t,10);return 2*(r>=0?r-1:r+e/2)},addVertex:function(t,e,r){var a=this.vertices,s=this.object.geometry.vertices;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addVertexPoint:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){var e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,r){var a=this.normals,s=this.object.geometry.normals;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addColor:function(t,e,r){var a=this.colors,s=this.object.geometry.colors;s.push(a[t+0],a[t+1],a[t+2]),s.push(a[e+0],a[e+1],a[e+2]),s.push(a[r+0],a[r+1],a[r+2])},addUV:function(t,e,r){var a=this.uvs,s=this.object.geometry.uvs;s.push(a[t+0],a[t+1]),s.push(a[e+0],a[e+1]),s.push(a[r+0],a[r+1])},addUVLine:function(t){var e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,r,a,s,i,o,n,h){var l=this.vertices.length,u=this.parseVertexIndex(t,l),c=this.parseVertexIndex(e,l),p=this.parseVertexIndex(r,l);if(this.addVertex(u,c,p),void 0!==a&&""!==a){var m=this.uvs.length;u=this.parseUVIndex(a,m),c=this.parseUVIndex(s,m),p=this.parseUVIndex(i,m),this.addUV(u,c,p)}if(void 0!==o&&""!==o){var f=this.normals.length;u=this.parseNormalIndex(o,f),c=o===n?u:this.parseNormalIndex(n,f),p=o===h?u:this.parseNormalIndex(h,f),this.addNormal(u,c,p)}this.colors.length>0&&this.addColor(u,c,p)},addPointGeometry:function(t){this.object.geometry.type="Points";for(var e=this.vertices.length,r=0,a=t.length;r<a;r++)this.addVertexPoint(this.parseVertexIndex(t[r],e))},addLineGeometry:function(t,e){this.object.geometry.type="Line";for(var r=this.vertices.length,a=this.uvs.length,s=0,i=t.length;s<i;s++)this.addVertexLine(this.parseVertexIndex(t[s],r));var o=0;for(i=e.length;o<i;o++)this.addUVLine(this.parseUVIndex(e[o],a))}};return t.startObject("",!1),t};-1!==s.indexOf("\r\n")&&(s=s.replace(/\r\n/g,"\n")),-1!==s.indexOf("\\\n")&&(s=s.replace(/\\\n/g,""));for(var o=s.split("\n"),n="",h="",l=[],u="function"==typeof"".trimLeft,c=0,p=o.length;c<p;c++)if(n=o[c],0!==(n=u?n.trimLeft():n.trim()).length&&"#"!==(h=n.charAt(0)))if("v"===h){var m=n.split(/\s+/);switch(m[0]){case"v":i.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),8===m.length&&i.colors.push(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]));break;case"vn":i.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":i.uvs.push(parseFloat(m[1]),parseFloat(m[2]))}}else if("f"===h){for(var f=n.substr(1).trim().split(/\s+/),d=[],v=0,g=f.length;v<g;v++){var b=f[v];if(b.length>0){var L=b.split("/");d.push(L)}}var x=d[0];for(v=1,g=d.length-1;v<g;v++){var w=d[v],y=d[v+1];i.addFace(x[0],w[0],y[0],x[1],w[1],y[1],x[2],w[2],y[2])}}else if("l"===h){var M=n.substring(1).trim().split(" "),C=[],j=[];if(-1===n.indexOf("/"))C=M;else for(var D=0,F=M.length;D<F;D++){var T=M[D].split("/");""!==T[0]&&C.push(T[0]),""!==T[1]&&j.push(T[1])}i.addLineGeometry(C,j)}else if("p"===h){var A=n.substr(1).trim().split(" ");i.addPointGeometry(A)}else if(null!==(l=t.exec(n))){var k=(" "+l[0].substr(1).trim()).substr(1);i.startObject(k)}else if(r.test(n))i.object.startMaterial(n.substring(7).trim(),i.materialLibraries);else if(e.test(n))i.materialLibraries.push(n.substring(7).trim());else{if("s"!==h){if("\0"===n)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+n+'"')}if((l=n.split(" ")).length>1){var O=l[1].trim().toLowerCase();i.object.smooth="0"!==O&&"off"!==O}else i.object.smooth=!0;(H=i.object.currentMaterial())&&(H.smooth=i.object.smooth)}i.finalize();var I=new a.Group;I.materialLibraries=[].concat(i.materialLibraries);for(c=0,p=i.objects.length;c<p;c++){var P=i.objects[c],S=P.geometry,V=P.materials,_="Line"===S.type,B="Points"===S.type,E=!1;if(0!==S.vertices.length){var U=new a.BufferGeometry;U.addAttribute("position",new a.Float32BufferAttribute(S.vertices,3)),S.normals.length>0?U.addAttribute("normal",new a.Float32BufferAttribute(S.normals,3)):U.computeVertexNormals(),S.colors.length>0&&(E=!0,U.addAttribute("color",new a.Float32BufferAttribute(S.colors,3))),S.uvs.length>0&&U.addAttribute("uv",new a.Float32BufferAttribute(S.uvs,2));for(var R,G=[],z=0,J=V.length;z<J;z++){var N=V[z],H=void 0;if(null!==this.materials)if(H=this.materials.create(N.name),!_||!H||H instanceof a.LineBasicMaterial){if(B&&H&&!(H instanceof a.PointsMaterial)){var X=new a.PointsMaterial({size:10,sizeAttenuation:!1});W.copy(H),H=X}}else{var W=new a.LineBasicMaterial;W.copy(H),W.lights=!1,H=W}H||((H=_?new a.LineBasicMaterial:B?new a.PointsMaterial({size:1,sizeAttenuation:!1}):new a.MeshPhongMaterial).name=N.name),H.flatShading=!N.smooth,H.vertexColors=E?a.VertexColors:a.NoColors,G.push(H)}if(G.length>1){for(z=0,J=V.length;z<J;z++){N=V[z];U.addGroup(N.groupStart,N.groupCount,z)}R=_?new a.LineSegments(U,G):B?new a.Points(U,G):new a.Mesh(U,G)}else R=_?new a.LineSegments(U,G[0]):B?new a.Points(U,G[0]):new a.Mesh(U,G[0]);R.name=P.name,I.add(R)}}return console.timeEnd("OBJLoader"),I}},s}(),t.exports={OBJLoader:a.OBJLoader}},318:function(t,e,r){"use strict";var a=r(315);a.MTLLoader=function(t){this.manager=void 0!==t?t:a.DefaultLoadingManager},a.MTLLoader.prototype={constructor:a.MTLLoader,load:function(t,e,r,s){var i=this,o=void 0===this.path?a.LoaderUtils.extractUrlBase(t):this.path,n=new a.FileLoader(this.manager);n.setPath(this.path),n.load(t,function(t){e(i.parse(t,o))},r,s)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setTexturePath:function(t){return console.warn("THREE.MTLLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t,e){for(var r=t.split("\n"),s={},i=/\s+/,o={},n=0;n<r.length;n++){var h=r[n];if(0!==(h=h.trim()).length&&"#"!==h.charAt(0)){var l=h.indexOf(" "),u=l>=0?h.substring(0,l):h;u=u.toLowerCase();var c=l>=0?h.substring(l+1):"";if(c=c.trim(),"newmtl"===u)s={name:c},o[c]=s;else if("ka"===u||"kd"===u||"ks"===u){var p=c.split(i,3);s[u]=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]}else s[u]=c}}var m=new a.MTLLoader.MaterialCreator(this.resourcePath||e,this.materialOptions);return m.setCrossOrigin(this.crossOrigin),m.setManager(this.manager),m.setMaterials(o),m}},a.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:a.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:a.RepeatWrapping},a.MTLLoader.MaterialCreator.prototype={constructor:a.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(t){return this.crossOrigin=t,this},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var r in t){var a=t[r],s={};for(var i in e[r]=s,a){var o=!0,n=a[i],h=i.toLowerCase();switch(h){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(o=!1)}o&&(s[h]=n)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,r=this.materialsInfo[t],s={name:t,side:this.side};function i(t,r){if(!s[t]){var a=e.getTextureParams(r,s),i=e.loadTexture(function(t,e){return"string"!=typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}(e.baseUrl,a.url));i.repeat.copy(a.scale),i.offset.copy(a.offset),i.wrapS=e.wrap,i.wrapT=e.wrap,s[t]=i}}for(var o in r){var n,h=r[o];if(""!==h)switch(o.toLowerCase()){case"kd":s.color=(new a.Color).fromArray(h);break;case"ks":s.specular=(new a.Color).fromArray(h);break;case"map_kd":i("map",h);break;case"map_ks":i("specularMap",h);break;case"norm":i("normalMap",h);break;case"map_bump":case"bump":i("bumpMap",h);break;case"map_d":i("alphaMap",h),s.transparent=!0;break;case"ns":s.shininess=parseFloat(h);break;case"d":(n=parseFloat(h))<1&&(s.opacity=n,s.transparent=!0);break;case"tr":n=parseFloat(h),this.options&&this.options.invertTrProperty&&(n=1-n),n>0&&(s.opacity=1-n,s.transparent=!0)}}return this.materials[t]=new a.MeshPhongMaterial(s),this.materials[t]},getTextureParams:function(t,e){var r,s={scale:new a.Vector2(1,1),offset:new a.Vector2(0,0)},i=t.split(/\s+/);return(r=i.indexOf("-bm"))>=0&&(e.bumpScale=parseFloat(i[r+1]),i.splice(r,2)),(r=i.indexOf("-s"))>=0&&(s.scale.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),(r=i.indexOf("-o"))>=0&&(s.offset.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),s.url=i.join(" ").trim(),s},loadTexture:function(t,e,r,s,i){var o,n=a.Loader.Handlers.get(t),h=void 0!==this.manager?this.manager:a.DefaultLoadingManager;return null===n&&(n=new a.TextureLoader(h)),n.setCrossOrigin&&n.setCrossOrigin(this.crossOrigin),o=n.load(t,r,s,i),void 0!==e&&(o.mapping=e),o}},t.exports={MTLLoader:a.MTLLoader}}}]);